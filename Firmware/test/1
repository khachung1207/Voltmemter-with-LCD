#include <stdio.h>
#include "driver/gpio.h"
#include "freertos/FreeRTOS.h"
#include "freertos/task.h"

#define BUTTON_PIN GPIO_NUM_4   // đổi sang chân bạn muốn test

void app_main()
{
    gpio_set_direction(BUTTON_PIN, GPIO_MODE_INPUT);
    gpio_set_pull_mode(BUTTON_PIN, GPIO_PULLUP_ONLY);

    while (1)
    {
        int level = gpio_get_level(BUTTON_PIN);

        if (level == 0)
            printf("BUTTON PRESSED\n");
        else
            printf("BUTTON RELEASED\n");

        vTaskDelay(200 / portTICK_PERIOD_MS);
    }
}

